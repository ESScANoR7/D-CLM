<header class="view-header compact-header">
    <h1>üëë –ü–∞–Ω–µ–ª—å –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞</h1>
</header>

<div class="admin-wrapper">
    
    <div class="admin-nav-container">
        <div class="admin-nav">
            <button class="nav-item active" onclick="switchAdminTab(this, 'general')">‚öôÔ∏è –ì–æ–ª–æ–≤–Ω–∞</button>
            <button class="nav-item" onclick="switchAdminTab(this, 'arena')">üê≤ –ê—Ä–µ–Ω–∞</button>
            <button class="nav-item" onclick="switchAdminTab(this, 'kvk')">‚öîÔ∏è KVK</button>
            <button class="nav-item" onclick="switchAdminTab(this, 'monsters')">üëæ –ú–æ–Ω—Å—Ç—Ä–∏</button>
            <button class="nav-item" onclick="switchAdminTab(this, 'kills')">üíÄ –ö—ñ–ª–∏</button>
            <button class="nav-item" onclick="switchAdminTab(this, 'settings')">üì• –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è</button>
        </div>
    </div>

    <div id="adm-general" class="admin-view active">
        <div class="card admin-card">
            <h3 class="card-title">üì£ –û–≥–æ–ª–æ—à–µ–Ω–Ω—è –õ—ñ–¥–µ—Ä–∞</h3>
            <div class="announcement-wrap">
                <textarea id="announcement-input" class="arena-input text-area" rows="5" placeholder="–ù–∞–ø–∏—à—ñ—Ç—å –Ω–æ–≤–µ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –¥–ª—è –≥—ñ–ª—å–¥—ñ—ó..."></textarea>
                <button class="gold-save-btn" onclick="window.updateAnnouncement()">üíæ –û–ø—É–±–ª—ñ–∫—É–≤–∞—Ç–∏</button>
            </div>
        </div>

        <div class="card admin-card full-height">
            <div class="table-controls">
                <h3 class="card-title">üë• –°–ø–∏—Å–æ–∫ –í—Å—ñ—Ö –ì—Ä–∞–≤—Ü—ñ–≤</h3>
                <input type="text" id="search-users" onkeyup="searchTable('users-table', 'search-users')" placeholder="üîç –ü–æ—à—É–∫..." class="search-input">
            </div>
            <div class="table-scroll-container">
                <table class="arena-table" id="users-table">
                    <thead>
                        <tr>
                            <th onclick="sortTable('users-table', 0)">ID ‚áÖ</th>
                            <th onclick="sortTable('users-table', 1)">–ù—ñ–∫–Ω–µ–π–º ‚áÖ</th>
                            <th onclick="sortTable('users-table', 2)">IGG ID ‚áÖ</th>
                            <th onclick="sortTable('users-table', 3)">–†–æ–ª—å ‚áÖ</th>
                            <th>–î—ñ—è</th> 
                        </tr>
                    </thead>
                    <tbody id="users-table-body"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="adm-arena" class="admin-view" style="display: none;">
        <div class="card admin-card full-height">
            <div class="table-controls">
                <h3 class="card-title">üê≤ –ê—Ä–µ–Ω–∞: –ó–≤—ñ—Ç</h3>
                <div class="controls-right">
                    <input type="text" id="search-arena" onkeyup="searchTable('arena-table', 'search-arena')" placeholder="üîç –ü–æ—à—É–∫..." class="search-input">
                    <button class="refresh-btn" onclick="loadAdminArenaData()">üîÑ</button>
                </div>
            </div>
            
            <div class="table-scroll-container">
                <table class="arena-table" id="arena-table">
                    <thead>
                        <tr>
                            <th onclick="sortTable('arena-table', 0)">–ì—Ä–∞–≤–µ—Ü—å ‚áÖ</th>
                            <th onclick="sortTable('arena-table', 1)">–°—Ç–∞—Ç—É—Å ‚áÖ</th>
                            <th onclick="sortTable('arena-table', 2)">–ö–æ–º–∞–Ω–¥–∞ ‚áÖ</th>
                            <th onclick="sortTable('arena-table', 3)">–ü—ñ—Ö % ‚áÖ</th>
                            <th onclick="sortTable('arena-table', 4)">–õ—É–∫ % ‚áÖ</th>
                            <th onclick="sortTable('arena-table', 5)">–ö–æ–Ω—ñ % ‚áÖ</th>
                            <th onclick="sortTable('arena-table', 6)">–ê–¢–ö % ‚áÖ</th>
                            <th onclick="sortTable('arena-table', 7)">–û–ó % ‚áÖ</th>
                            <th onclick="sortTable('arena-table', 8)">–ê—Ä–º—ñ—è ‚áÖ</th> 
                        </tr>
                    </thead>
                    <tbody id="arena-table-body"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="adm-kvk" class="admin-view" style="display: none;">
        <div class="card admin-card full-height">
            <div class="table-controls">
                <h3 class="card-title">‚öîÔ∏è KVK: –ó–≤—ñ—Ç</h3>
                <div class="controls-right">
                    <input type="text" id="search-kvk" onkeyup="searchTable('kvk-table', 'search-kvk')" placeholder="üîç –ü–æ—à—É–∫..." class="search-input">
                    <button class="refresh-btn" onclick="loadAdminKvkData()">üîÑ</button>
                </div>
            </div>

            <div class="table-scroll-container">
                <table class="arena-table kvk-table" id="kvk-table">
                    <thead>
                        <tr>
                            <th onclick="sortTable('kvk-table', 0)">–ì—Ä–∞–≤–µ—Ü—å ‚áÖ</th>
                            <th onclick="sortTable('kvk-table', 1)">–ì–æ—Ç–æ–≤–∏–π ‚áÖ</th>
                            <th onclick="sortTable('kvk-table', 2)">–í–∏–ª—ñ—Ç ‚áÖ</th>
                            <th onclick="sortTable('kvk-table', 3)">–ó–∞–∫—Ä–∏—Ç–µ ‚áÖ</th>
                            <th onclick="sortTable('kvk-table', 4)">‚Ññ –ö–æ—Ä ‚áÖ</th>
                            <th onclick="sortTable('kvk-table', 5)">–ü—ñ—Ö % ‚áÖ</th>
                            <th onclick="sortTable('kvk-table', 6)">–õ—É–∫ % ‚áÖ</th>
                            <th onclick="sortTable('kvk-table', 7)">–ö–æ–Ω—ñ % ‚áÖ</th>
                            <th onclick="sortTable('kvk-table', 8)">–ê—Ä–º—ñ—è % ‚áÖ</th>
                            <th onclick="sortTable('kvk-table', 9)">HP % ‚áÖ</th>
                            <th onclick="sortTable('kvk-table', 10)">üê∞ ‚áÖ</th>
                        </tr>
                    </thead>
                    <tbody id="kvk-report-body"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="adm-monsters" class="admin-view" style="display: none;">
        
        <div class="card admin-card debt-alert-card" id="debtors-card" style="display: none;">
            <h3 class="card-title debt-title">‚ö†Ô∏è –ì—Ä–∞–≤—Ü—ñ –∑ –ë–æ—Ä–≥–æ–º (<span id="debt-count">0</span>)</h3>
            <div class="table-scroll-container small-height">
                <table class="arena-table">
                    <thead>
                        <tr>
                            <th class="red-text">–ù—ñ–∫–Ω–µ–π–º</th>
                            <th class="red-text">–ë–∞–ª–∏</th>
                            <th class="red-text">–ë–û–†–ì</th>
                        </tr>
                    </thead>
                    <tbody id="debtors-body"></tbody>
                </table>
            </div>
        </div>

        <div class="card admin-card full-height">
            <div class="table-controls">
                <h3 class="card-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ü–æ–ª—é–≤–∞–Ω–Ω—è</h3>
                <div class="controls-right">
                    <input type="text" id="search-monsters" onkeyup="searchTable('monsters-table', 'search-monsters')" placeholder="üîç –ü–æ—à—É–∫..." class="search-input">
                    <button class="refresh-btn" onclick="loadAdminMonsterData()">üîÑ</button>
                </div>
            </div>
            
            <div class="table-scroll-container">
                <table class="arena-table" id="monsters-table">
                    <thead>
                        <tr>
                            <th onclick="sortTable('monsters-table', 0)">–ù—ñ–∫–Ω–µ–π–º ‚áÖ</th>
                            <th onclick="sortTable('monsters-table', 1)">IGG ID ‚áÖ</th> 
                            <th onclick="sortTable('monsters-table', 2)" class="gold-text">–ë–∞–ª–∏ ‚áÖ</th>
                            <th onclick="sortTable('monsters-table', 3)" class="red-text">–ë–æ—Ä–≥ ‚áÖ</th>
                            <th onclick="sortTable('monsters-table', 4)">L1 ‚áÖ</th>
                            <th onclick="sortTable('monsters-table', 5)">L2 ‚áÖ</th>
                            <th onclick="sortTable('monsters-table', 6)">L3 ‚áÖ</th>
                            <th onclick="sortTable('monsters-table', 7)">L4 ‚áÖ</th>
                            <th onclick="sortTable('monsters-table', 8)">L5 ‚áÖ</th>
                        </tr>
                    </thead>
                    <tbody id="monsters-table-body"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="adm-kills" class="admin-view" style="display: none;">
        <div class="card admin-card full-height">
            <div class="table-controls">
                <h3 class="card-title">üíÄ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –í–±–∏–≤—Å—Ç–≤ —Ç–∞ –°–∏–ª–∏</h3>
                <div class="controls-right">
                    <input type="text" id="search-kills" onkeyup="searchTable('kills-table', 'search-kills')" placeholder="üîç –ü–æ—à—É–∫..." class="search-input">
                    <button class="refresh-btn" onclick="loadAdminKillsData()">üîÑ</button>
                </div>
            </div>
            
            <div class="table-scroll-container">
                <table class="arena-table" id="kills-table">
                    <thead>
                        <tr>
                            <th onclick="sortTable('kills-table', 0)">–ù—ñ–∫–Ω–µ–π–º ‚áÖ</th>
                            <th onclick="sortTable('kills-table', 1)" class="gold-text">–ú—ñ—Ü—å ‚áÖ</th>
                            <th onclick="sortTable('kills-table', 2)">–†—ñ—Å—Ç –ú—ñ—Ü—ñ ‚áÖ</th>
                            <th onclick="sortTable('kills-table', 3)" class="red-text">–ö—ñ–ª–∏ ‚áÖ</th>
                            <th onclick="sortTable('kills-table', 4)">–†—ñ—Å—Ç –ö—ñ–ª—ñ–≤ ‚áÖ</th>
                        </tr>
                    </thead>
                    <tbody id="kills-table-body"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="adm-settings" class="admin-view" style="display: none;">
        
        <div class="card admin-card">
            <h3 class="card-title">üìÖ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –î–∞—Ç</h3>
            
            <h4 class="sub-title gold-text">–ê—Ä–µ–Ω–∞ –î—Ä–∞–∫–æ–Ω—ñ–≤</h4>
            <div class="input-row-admin">
                <div class="input-wrap">
                    <label>–î–∞—Ç–∞ (DD.MM.YYYY)</label>
                    <input type="text" id="event-date-input" class="arena-input" placeholder="02.02.2026">
                </div>
                <div class="input-wrap">
                    <label>–ß–∞—Å (HH:MM)</label>
                    <input type="text" id="event-time-input" class="arena-input" placeholder="19:00">
                </div>
            </div>

            <h4 class="sub-title red-text">KVK (–ë–∏—Ç–≤–∞ –ö–æ—Ä–æ–ª—ñ–≤—Å—Ç–≤)</h4>
            <div class="input-row-admin">
                <div class="input-wrap">
                    <label>–î–∞—Ç–∞ (DD.MM.YYYY)</label>
                    <input type="text" id="kvk-date-input" class="arena-input" placeholder="05.02.2026">
                </div>
                <div class="input-wrap">
                    <label>–ß–∞—Å (HH:MM)</label>
                    <input type="text" id="kvk-time-input" class="arena-input" placeholder="13:00">
                </div>
            </div>

            <button class="gold-save-btn" onclick="window.updateEventDates()">–ó–±–µ—Ä–µ–≥—Ç–∏ –í—Å—ñ –î–∞—Ç–∏</button>
        </div>

        <div class="card admin-card security-card-flat">
            <h3 class="card-title">üîê –ë–µ–∑–ø–µ–∫–∞ –ì—ñ–ª—å–¥—ñ—ó</h3>
            
            <div class="flat-input-block">
                <label for="guild-pass-input" class="flat-label">–ö–æ–¥ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –¥–ª—è –Ω–æ–≤–∞—á–∫—ñ–≤:</label>
                <input type="text" id="guild-pass-input" class="flat-dark-input-large" placeholder="–í–í–ï–î–Ü–¢–¨ –ö–û–î..." spellcheck="false">
            </div>

            <button class="gold-save-btn full-width-action-btn" onclick="window.saveGuildPass()">
                üíæ –ó–ú–Ü–ù–ò–¢–ò –ö–û–î
            </button>
            
            <p class="hint-text" style="text-align: center; margin-top: 15px;">
                –ü–æ–≤—ñ–¥–æ–º—Ç–µ —Ü–µ–π –∫–æ–¥ –≥—Ä–∞–≤—Ü—è–º, —â–æ–± –≤–æ–Ω–∏ –º–æ–≥–ª–∏ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è.
            </p>
        </div>

        <div class="card admin-card">
            <h3 class="card-title">üì• –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è Excel</h3>
            <div class="upload-grid">
                <div class="upload-box">
                    <label>üõ°Ô∏è –ó–∞–≥–∞–ª—å–Ω–∞ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (General)</label>
                    <input type="file" id="excel-general" class="file-input">
                    <div class="upload-actions">
                        <button class="upload-btn prev" onclick="window.performUpload('general', 'past')">‚è™ –°—Ç–∞—Ä–∏–π –¢–∏–∂–¥–µ–Ω—å</button>
                        <button class="upload-btn next" onclick="window.performUpload('general', 'new')">‚è© –ù–æ–≤–∏–π –¢–∏–∂–¥–µ–Ω—å</button>
                    </div>
                </div>
                
                <div class="upload-box">
                    <label>üëæ –ü–æ–ª—é–≤–∞–Ω–Ω—è (Monsters)</label>
                    <input type="file" id="excel-monsters" class="file-input">
                    <div class="upload-actions">
                        <button class="upload-btn prev" onclick="window.performUpload('monsters', 'past')">‚è™ –°—Ç–∞—Ä–∏–π –¢–∏–∂–¥–µ–Ω—å</button>
                        <button class="upload-btn next" onclick="window.performUpload('monsters', 'new')">‚è© –ù–æ–≤–∏–π –¢–∏–∂–¥–µ–Ω—å</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="card admin-card">
            <div class="table-controls">
                <h3 class="card-title">–Ü—Å—Ç–æ—Ä—ñ—è –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—å</h3>
                <button class="refresh-btn" onclick="window.loadUploadHistory()">üîÑ</button>
            </div>
            <div class="table-scroll-container small-height">
                <table class="arena-table">
                    <thead>
                        <tr>
                            <th>–§–∞–π–ª</th>
                            <th>–¢–∏–ø</th>
                            <th>–ü–µ—Ä—ñ–æ–¥</th> 
                            <th>–î–∞—Ç–∞</th>
                            <th>–ê–¥–º—ñ–Ω</th>
                            <th>–î—ñ—è</th>
                        </tr>
                    </thead>
                    <tbody id="history-body"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script>
    // –§—É–Ω–∫—Ü—ñ—è –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è –≤–∫–ª–∞–¥–æ–∫ –∞–¥–º—ñ–Ω–∫–∏
    function switchAdminTab(btn, tabId) {
        document.querySelectorAll('.admin-view').forEach(el => el.style.display = 'none');
        document.getElementById('adm-' + tabId).style.display = 'block';
        
        document.querySelectorAll('.nav-item').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        // –¢—É—Ç –º–æ–∂–Ω–∞ –¥–æ–¥–∞—Ç–∏ –ª–æ–≥—ñ–∫—É –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–∏ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ –≤–∫–ª–∞–¥–∫–∏
        if(tabId === 'arena') loadAdminArenaData();
        if(tabId === 'kvk') loadAdminKvkData();
        if(tabId === 'monsters') loadAdminMonsterData();
        if(tabId === 'kills') loadAdminKillsData();
    }
</script>