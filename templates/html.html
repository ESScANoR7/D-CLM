<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>D*C Guild - –í–∏–±—ñ—Ä —Ä–æ–ª—ñ</title>
    <link rel="stylesheet" href="/static/css/css.css">
    <link href="https://fonts.googleapis.com/css2?family=Marcellus&display=swap" rel="stylesheet">
    
</head>
<body>
    <div class="main-container">
        <header class="header">
            <img src="/static/img/logo.png" alt="S&V Logo" class="main-logo">
        </header>

        <div class="selection-wrapper">
            <div class="choice-side guest-zone">
                <div class="content">
                    <a href="/guest_reg" class="game-btn guest-btn">
                        <span class="btn-text">–ì—ñ—Å—Ç—å</span>
                    </a>
                    <p class="tagline light-text">–°—Ç–∞–Ω—å —Å–æ—é–∑–Ω–∏–∫–æ–º!</p>
                </div>
            </div>

            <div class="choice-side player-zone">
                <div class="content">
                    <a href="javascript:void(0)" class="game-btn player-btn" onclick="toggleLogin(true)">
                      <span class="btn-text">–ì—Ä–∞–≤–µ—Ü—å</span>
                    </a>
                    <p class="tagline dark-text">–î–æ –±–æ—é, –°–ª–∞–±–æ—É–º–Ω–∏–π!</p>
                </div>
            </div>
        </div>
    </div>

    <div id="loginModal" class="modal-overlay">
        <div class="login-tablet">
            <div class="close-tablet" onclick="toggleLogin(false)">‚úñ</div>
            
            <div id="auth-container">
                <h2 class="auth-title" id="modal-title">–ê–í–¢–û–†–ò–ó–ê–¶–Ü–Ø</h2>

                {% with messages = get_flashed_messages(category_filter=["login_error"]) %}
                    {% if messages %}
                        <div class="error-message server-error" style="display:block;">
                            {{ messages[0] }}
                        </div>
                    {% endif %}
                {% endwith %}

                <div id="player-auth-error" class="error-message"></div>

                <form class="auth-form" id="mainAuthForm" action="/login" method="POST">
                    <div class="input-container">
                        <label>–ù—ñ–∫–Ω–µ–π–º</label>
                        <div class="lava-input-wrapper">
                            <input type="text" name="nickname" placeholder="–í–≤–µ–¥—ñ—Ç—å –Ω—ñ–∫" required>
                        </div>
                    </div>

                    <div class="input-container" id="igg-id-field" style="display: none;">
                        <label>IGG ID</label>
                        <div class="lava-input-wrapper">
                            <input type="number" name="igg_id" placeholder="–í–∞—à ID">
                        </div>
                    </div>

                    <div class="input-container">
                        <label>–ü–∞—Ä–æ–ª—å</label>
                        <div class="lava-input-wrapper">
                            <input type="password" name="password" placeholder="********" required>
                        </div>
                    </div>

                    <div id="guild-code-field" style="display: none; margin: 15px 0; border: 1px solid #ffd700; padding: 10px; border-radius: 5px;">
                        <label style="color:#ffd700; font-size: 0.9em;">üîê –ö–æ–¥ –¥–æ—Å—Ç—É–ø—É (—É R4/R5)</label>
                        <input type="text" name="guild_code" placeholder="–í–≤–µ–¥—ñ—Ç—å –∫–æ–¥" style="text-align: center; font-weight: bold; letter-spacing: 2px; width: 100%; margin-top: 5px; background: #222; border: none; color: white; padding: 5px;">
                    </div>

                    <button type="submit" class="auth-submit-btn" id="submit-btn">
                        <span class="fist-icon">‚úä</span> –£–í–Ü–ô–¢–ò
                    </button>
                </form>

                <button type="button" class="modal-switch-btn" id="switch-auth-btn" onclick="switchAuthMode(true)">
                    –†–ï–Ñ–°–¢–†–ê–¶–Ü–Ø
                </button>
            </div>
        </div>
    </div>

    <script src="/static/js/js.js"></script>
</body>
</html>